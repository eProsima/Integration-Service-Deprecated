<?xml version="1.0"?>
<is>
    <topic_types>
        <type name="HelloWorld">
            <library>build/libkeyhelloworld_static_static_lib.so</library>
        </type>
        <type name="sample">
            <library>build/libkeyhelloworld_static_static_lib.so</library>
        </type>
    </topic_types>

    <profiles>
        <participant profile_name="HelloWorldParticipant">
            <rtps>
                <builtin>
                    <domainId>0</domainId>
                </builtin>
            </rtps>
        </participant>

        <subscriber profile_name="subHW">
            <topic>
                <name>HelloWorldTopic</name>
                <dataType>HelloWorld</dataType>
            </topic>
            <historyMemoryPolicy>DYNAMIC</historyMemoryPolicy>
        </subscriber>

        <publisher profile_name="pubHW">
            <topic>
                <name>HelloWorldTopic</name>
                <dataType>HelloWorld</dataType>
            </topic>
            <historyMemoryPolicy>DYNAMIC</historyMemoryPolicy>
        </publisher>

        <participant profile_name="KeysParticipant">
            <rtps>
                <builtin>
                    <domainId>0</domainId>
                </builtin>
            </rtps>
        </participant>

        <subscriber profile_name="subK">
            <topic>
                <name>samplePubSubTopic</name>
                <dataType>sample</dataType>
                <kind>WITH_KEY</kind>
            </topic>
            <historyMemoryPolicy>DYNAMIC</historyMemoryPolicy>
        </subscriber>

        <publisher profile_name="pubK">
            <topic>
                <name>samplePubSubTopic</name>
                <dataType>sample</dataType>
                <kind>WITH_KEY</kind>
            </topic>
            <historyMemoryPolicy>DYNAMIC</historyMemoryPolicy>
        </publisher>        
    </profiles>

    <connector name="HW_to_Key">
        <subscriber publisher_profile="HelloWorldParticipant" subscriber_profile="subHW"/>
        <publisher publisher_profile="KeysParticipant" publisher_profile="pubK"/>
        <transformation file="build/libkeyhelloworld_static_static_lib.so" function="HelloWorldToKey"/>
    </connector>
<!--
    <connector name="Key_to_HW">
        <subscriber publisher_profile="KeysParticipant" subscriber_profile="subK"/>
        <publisher publisher_profile="HelloWorldParticipant" publisher_profile="pubHW"/>
    <transformation file="build/libkeyhelloworld_static_static_lib.so" function="KeyToHelloWorld"/>
    </connector>
-->
</is>
